# tomonari-web 更新方法などまとめ

## ファイルの説明
* htdocs: コンパイル後のファイル郡です。html documentsの略です。ここは基本的に編集しないようにしてください。（コンパイルによって上書きされてしまうため）このフォルダの中身を本番のルートにupしてください。
* node_modules: コンパイルに必要なモジュールの本体が入ってくるフォルダです。容量が大きいため、git上で監視していません。触る必要はありません。
* src: コンパイル前のファイル郡です。sourceの略で、コンパイル元のファイルを管理しています。編集するのは基本的にこのsrc配下のファイルのみです。
* .babelrc: コンパイルに必要な機能を指定しているファイルです。触る必要はありません。
* .gitignore: gitにおいて監視下に置かない=ignoreするファイルを指定できるファイルです。触る必要はありません。
* gulpfile.js: コンパイル処理を記述しているファイルです。触る必要はありません。
* package_lock.json: コンパイルに必要なモジュールを指定しているファイルです。package.jsonより詳細な指定が書き込まれるため容量が大きくなり、git上で監視していません。触る必要はありません。
* package.json: コンパイルに必要なモジュールを指定しているファイルです。触る必要はありません。
* README.md: このファイルです。開発における注意事項,手順などを記述したメモとしています。


## 更新方法
1. ターミナルを開いてください。
2. このディレクトリ直下にいることを確認してから以下のコマンドを叩いてください。
3. `npm i`（コンパイルに必要なファイルをインストールするコマンドです。node_modulesの中身がそれです。1度叩けばファイルをインストールされて残るため、2回目以降は省略して構いません。
4. `npm start`（コンパイルを実行し、ローカルサーバーが立ち上がります。このコマンドの時点でsrcフォルダを監視状態にする処理が走り、srcフォルダで更新があれば常にhtdocsフォルダに差分をコンパイルして反映するようになります。
5. `http://localhost:3000/`でサイトを確認できます。
6. src/フォルダ配下でファイルを実際に更新してください。`http://localhost:3000/`が自動でリロードされ変更分が反映されるはずです。
7. 作業がすべて完了したら`control + C`で`npm start`を停止できます。


## Gitの操作
gitに反映すると、自分がどのファイルのどこを触ったのか記録(=差分)を残せると同時に、複数人やデバイスを跨いだ差分の同期が可能になります。gitにはローカル(手元のPC)とリモート(github.com)という概念があり、各々のローカルからリモートと差分をやり取りすることで最新を担保することができます。※今回はSourcetreeの使用を前提とします。
1. Sourcetreeを起動してください。
2. このディレクトリとつながっている画面を開きます。(tomo2018)
3. 「コミット」に数字がついている場合、未コミットの変更があるため、まずコミットします。(差分の記録)
   1. 画面左上のコミットを押します
   2. 「ステージングに未登録のファイル」に変更したファイルが並んでいるので、変更部分を確認しながらチェックを入れていきます。
   3. チェックをいれたファイルは「ステージング済み」のところに並んでいきます
   4. すべてチェックをいれて問題なければ、入力欄にコミットメッセージを入力、コミットを押します
4. 「プル」に数字がついている場合、リモート側が更新されています。最新を取り込むため、プル(≒ダウンロード)をします。
   1. 未コミットの変更があるとプルはできません。まずコミットを済ませます。
   2. 画面上部のプルを押します。
   3. 「プルをするリモートのブランチ」「プルをするローカルのブランチ」これらが同名(master)になっていることを確認してください。
   4. okを押します。
5. 「プッシュ」に数字がついている場合、リモートにプッシュ(≒アップロード)していないコミットがあります。プッシュをしてリモートを最新にしてください。
   1. 画面上部のプッシュを押します。
   2. ローカルブランチ,リモートブランチが同名(master)になっていることを確認してください。
   3. okを押します
6. 上記のコミット→プル→プッシュの手順が完了すれば終了です。お疲れ様でした。


## Youtubeに動画をアップロードする方法
1. youtubeにログインしてください。
2. 右上の自分のアイコンをクリックしてください。
3. Youtube studioをクリックしてください。ここが動画クリエイター用の管理画面です。
4. 右上に見える「作成」というボタンを押して、動画をアップロードを選択してください。
5. アップロードの画面が立ち上がるので、アップしたい動画をドラッグ＆ドロップしてください。
6. 動画の設定で必須なのは、「子供向けではありません」と「限定公開」にすることです。
7. アップが完了したら動画のURLを送付ください。
